<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é»’ã²ã’å±æ©Ÿä¸€ç™º</title>
    <link rel="stylesheet" href="./css/kurohige.css">
</head>
<body>
    <header>
        <!-- //ä¸‰æœ¬ç·š -->
        <span class="nav_toggle">
            <i></i>
            <i></i>
            <i></i>
        </span>
        <!-- ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ä¸­èº« -->
        <nav class="nav">
            <ul class="nav_menu_ul">
                <li class="nav_menu_li"><a href="./index.html">LP</a></li>
                <li class="nav_menu_li"><a href="./janken.html">ã˜ã‚ƒã‚“ã‘ã‚“</a></li>
                <li class="nav_menu_li"><a href="./kurohige.html">é»’ã²ã’å±æ©Ÿä¸€ç™º</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section>
             <h1 id="title">ãƒãƒ¼ã‚·ãƒ£ãƒ«â€Dâ€ãƒ†ã‚£ãƒä¸€ç™º</h1>
        </section>

        <div class="game">
            <section class="game_img">
                <img src="./images/kurohige.jpeg" id="kurohige_img" alt="">
                <img src="./images/taru.jpg" id="taru_img" alt="">
            </section>

            <div class="select_button">
                <div id="select1">
                    <button class="pirate_btn" id="btn1">1</button>
                    <button class="pirate_btn" id="btn2">2</button>
                    <button class="pirate_btn" id="btn3">3</button>
                </div>

                <div id="select2">
                    <button class="pirate_btn" id="btn4">4</button>
                    <button class="pirate_btn" id="btn5">5</button>
                    <button class="pirate_btn" id="btn6">6</button>
                </div>
            </div>
                <div id="reset">
                    <button id="reset_button">ãƒªãƒˆãƒ©ã‚¤</button>
                </div>

        </div>

        <section class="instraction">
            <p id="result">â˜ï¸</p>
            <p>ãƒŠã‚¤ãƒ•ã‚’æŒ‡ã™å ´æ‰€ã‚’é¸ã‚“ã§ã­</p>
        </section>

    </main>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script>

        // ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼
        $('.nav_toggle').on('click',function(){
            $('.nav_toggle, .nav').toggleClass('show');
        });

        // ï¼ã€œï¼•ã®æ•°å­—ã‚’ãƒ©ãƒ³ãƒ€ãƒ 
        $(function(){
            const max = 5
            const min = 0
    
            let losingButton = Math.floor(Math.random() *(max-min+1)+min);
            console.log("å¤–ã‚Œãƒœã‚¿ãƒ³:", losingButton);//ãƒ‡ãƒãƒƒã‚¯ç¢ºèªç”¨


            function speakText(text) {
            const uttr = new SpeechSynthesisUtterance(text);
            uttr.lang = "ja-JP";
            uttr.rate = 0.9;   
            uttr.pitch = 0.6;
            uttr.volume = 1;
            speechSynthesis.speak(uttr);
        }

            // ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯æ™‚
            $('.pirate_btn').on('click',function(){
                const clickedId = $(this).attr('id');
                const clickedNum = parseInt(clickedId.replace('btn', ''), 10);

                // åˆ†å²å‡¦ç†
                if(clickedNum === losingButton){
                    // éŸ³å£°éƒ¨åˆ†
                    speakText("ã‚¼ãƒãƒãƒãƒ"); 

                    $('#result').text('ã‚¼ãƒãƒãƒãƒğŸ¤£');
                    $('#kurohige_img').animate({
                        top: "-100px"//ä¸Šã«é£›ã³å‡ºã™ã€€ä¸‹å‘ãã«æ•°å€¤ãŒå¤§ãããªã‚‹ãŸã‚ãƒã‚¤ãƒŠã‚¹å€¤
                    }, 800);
                    $('.pirate_btn').prop('disabled', true);//å…¨ãƒœã‚¿ãƒ³ç„¡åŠ¹åŒ–
                } else {
                          // ãƒ©ãƒ³ãƒ€ãƒ ã§3ãƒ‘ã‚¿ãƒ¼ãƒ³è¡¨ç¤º
                    const messages = [
                        'äººã®å¤¢ã¯!!!çµ‚ã‚ã‚‰ã­ãˆ!!!!',
                        'ã‚ªãƒ¬ã®èˆªæµ·ã¯ç¶šããœï¼',
                        'ã“ã“ã‹ã‚‰å…ˆã¯ãâ€¦ä¿ºã®æ™‚ä»£ã ã‚¡!!!!'
                    ];
                    const randomIndex = Math.floor(Math.random() * 3);
                    const message = messages[randomIndex];
                    $('#result').text(message);
                    speakText(message);
                    $(this).prop('disabled', true);
                    }
            });

             // ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³
            $('#reset_button').on('click', function() {
                losingButton = Math.floor(Math.random() * 6) + 1; // 1ã€œ6ã‚’å†æŠ½é¸
                console.log("æ–°ã—ã„å¤–ã‚Œãƒœã‚¿ãƒ³:", losingButton);
                $('#result').text('â˜ï¸');
                $('#kurohige_img').css('top', '0'); // é»’ã²ã’ã‚’å…ƒã®ä½ç½®ã«æˆ»ã™
                $('.pirate_btn').prop('disabled', false);
            });
        
        })





    </script>
</body>
</html>